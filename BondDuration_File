def getBondDuration(y, face, couponRate, m, ppy=1):
    r = y / ppy
    n = m * ppy
    c = face * couponRate / ppy
    price = 0.0
    weighted_sum = 0.0
    for t in range(1, n + 1):
        # cash flow
        cf = c
        if t == n:
            cf += face
        # discount factor
        pv = 1 / (1 + r) ** t
        pvcf = cf * pv
        price += pvcf
        weighted_sum += t * pvcf

    # Macaulay duration (in periods)
    duration_periods = weighted_sum / price
    
    # Convert to years
    duration_years = duration_periods / ppy
    
    return duration_years
